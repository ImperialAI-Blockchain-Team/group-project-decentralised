(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{100:function(e,t,n){"use strict";var a=n(44),s=n(126);t.a=new a.a.eth.Contract(s.b,"0xa91A90BB6C18E60cAf41Db14A818687b5845d66a")},1099:function(e,t){},1112:function(e,t){},1120:function(e,t){},1143:function(e,t){},1144:function(e,t){},1176:function(e,t){},1178:function(e,t){},1179:function(e,t){},1184:function(e,t){},1186:function(e,t){},1205:function(e,t){},1208:function(e,t){},1213:function(e,t){},1224:function(e,t){},1227:function(e,t){},125:function(e,t,n){"use strict";var a=new(n(554))({host:"ipfs.infura.io",port:5001,protocol:"https"});t.a=a},126:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));var a=[{inputs:[{internalType:"address",name:"_contractAddressRegistry",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"hashes",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"string",name:"",type:"string"}],name:"models",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"objective",type:"string"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"bool",name:"registered",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_ipfsHash",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_objective",type:"string"}],name:"registerModel",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getNumberOfModels",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_ipfsHash",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_objective",type:"string"}],name:"modifyModel",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_ipfsHash",type:"string"}],name:"deleteModel",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"string",name:"_ipfsHash",type:"string"}],name:"getModelOwner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],s=[{inputs:[{internalType:"address",name:"_contractAddressRegistry",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!0,inputs:[{internalType:"string",name:"",type:"string"}],name:"datasets",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"objective",type:"string"},{internalType:"uint256",name:"time",type:"uint256"},{internalType:"bool",name:"registered",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"hashes",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_ipfsHash",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_objective",type:"string"}],name:"registerDataset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getNumberOfs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_ipfsHash",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_objective",type:"string"}],name:"modifyDataset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_ipfsHash",type:"string"}],name:"deleteDataset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"string",name:"_ipfsHash",type:"string"}],name:"getDatasetOwner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],i=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"string",name:"user_name",type:"string"},{indexed:!1,internalType:"bool",name:"data_scientist",type:"bool"},{indexed:!1,internalType:"bool",name:"aggregator",type:"bool"},{indexed:!1,internalType:"bool",name:"hospital",type:"bool"}],name:"LogNewUser",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"string",name:"user_name",type:"string"},{indexed:!1,internalType:"bool",name:"data_scientist",type:"bool"},{indexed:!1,internalType:"bool",name:"aggregator",type:"bool"},{indexed:!1,internalType:"bool",name:"hospital",type:"bool"}],name:"LogUpdateUser",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"registrations",outputs:[{internalType:"string",name:"user_name",type:"string"},{internalType:"bool",name:"data_scientist",type:"bool"},{internalType:"bool",name:"aggregator",type:"bool"},{internalType:"bool",name:"hospital",type:"bool"},{internalType:"bool",name:"registered",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"userHash",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"isUser",outputs:[{internalType:"bool",name:"isIndeed",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"isDataScientist",outputs:[{internalType:"bool",name:"isIndeed",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"isDataOwner",outputs:[{internalType:"bool",name:"isIndeed",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"user_name",type:"string"},{internalType:"bool",name:"data_scientist",type:"bool"},{internalType:"bool",name:"aggregator",type:"bool"},{internalType:"bool",name:"hospital",type:"bool"}],name:"insertUser",outputs:[{internalType:"uint256",name:"index",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"getUser",outputs:[{internalType:"string",name:"user_name",type:"string"},{internalType:"bool",name:"data_scientist",type:"bool"},{internalType:"bool",name:"aggregator",type:"bool"},{internalType:"bool",name:"hospital",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"bool",name:"data_scientist",type:"bool"},{internalType:"bool",name:"aggregator",type:"bool"},{internalType:"bool",name:"hospital",type:"bool"}],name:"updateUserType",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getUserCount",outputs:[{internalType:"uint256",name:"count",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getUserAtIndex",outputs:[{internalType:"address",name:"userAddress",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"deleteUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},127:function(e,t,n){"use strict";var a=n(44),s=n(126);t.a=new a.a.eth.Contract(s.c,"0x9b673923B47B678299834c82f63049E46f6b3D8b")},1279:function(e,t,n){},1280:function(e,t,n){},1283:function(e,t,n){},1284:function(e,t,n){},1285:function(e,t,n){},1286:function(e,t,n){},1287:function(e,t,n){},1289:function(e,t,n){"use strict";n.r(t);var a=n(8),s=n.n(a),i=n(1298),r=n(530),c=n.n(r),o=(n(542),n(1299)),l=n(1300),d=n(1297),u=(n(543),n(5)),h=n(7),b=n(12),j=n(11),p=n(1294),m=(n(544),n(0)),f=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"navbar",children:[Object(m.jsx)(p.a,{to:"/about",children:"About"}),Object(m.jsx)(p.a,{to:"/sign_up",children:"Sign Up"}),Object(m.jsx)(p.a,{to:"/my_account",children:"My Account"}),Object(m.jsxs)("div",{className:"dropdown",children:[Object(m.jsxs)("button",{className:"dropbtn",children:["Register your Assets",Object(m.jsx)("i",{className:"fa fa-caret-down"})]}),Object(m.jsxs)("div",{class:"dropdown-content",children:[Object(m.jsx)(p.a,{to:"/register_model",children:"Your Model"}),Object(m.jsx)(p.a,{to:"/register_dataset",children:"Your Dataset"})]})]}),Object(m.jsxs)("div",{className:"dropdown",children:[Object(m.jsxs)("button",{className:"dropbtn",children:["Explore ",Object(m.jsx)("i",{className:"fa fa-caret-down"})]}),Object(m.jsxs)("div",{className:"dropdown-content",children:[Object(m.jsx)(p.a,{to:"/browse_models",children:"Models"}),Object(m.jsx)(p.a,{to:"/browse_datasets",children:"Datasets"}),Object(m.jsx)(p.a,{to:"/browse_jobs",children:"Jobs"})]})]})]})}}]),n}(s.a.Component),O=(n(548),n(531)),x=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"form-container",children:Object(m.jsx)(O.a,{})})}}]),n}(s.a.Component),y=(n(1279),n(534)),g=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"form-container",children:Object(m.jsx)(y.a,{})})}}]),n}(s.a.Component),v=(n(1283),n(80)),C=n(14),w=n.n(C),_=n(31),k=n(27),T=(n(1284),n(44)),S=n(127);function N(e,t,n,a){var s=[];0===e.length&&s.push("Name can't be empty"),0===t.length&&s.push("Email can't be empty"),0===n.length&&s.push("Address can't be empty"),0===a.length&&s.push("Please choose a type");/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||s.push("Enter a valid email");return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(n)||s.push("Enter a valid IP address"),s}var D=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onClick=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({blockNumber:"waiting.."}),a.setState({gasUsed:"waiting..."}),e.next=5,T.a.eth.getTransactionReceipt(a.state.transactionHash,(function(e,t){console.log(e,t),a.setState({txReceipt:t})}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:a.setState({displayTable:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.handleSubmit=function(){var e=Object(_.a)(w.a.mark((function e(t){var n,s,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((n=N(a.state.name,a.state.email,a.state.address,a.state.type)).length>0)){e.next=5;break}return alert(JSON.stringify(n)),e.abrupt("return");case 5:return alert("Your details have been submitted"),localStorage.setItem(JSON.stringify(a.state.name),JSON.stringify(a.state.address)),e.next=9,T.a.eth.getAccounts();case 9:return s=e.sent,a.setState({account:s[0]}),e.next=13,S.a.options.address;case 13:return i=e.sent,a.setState({ethAddress:i}),console.log(s),e.next=18,S.a.methods.insertUser(a.state.name,a.state.data_scientist,a.state.aggregator,a.state.data_owner).send({from:s[0]}).on("transactionHash",(function(e){console.log(e),a.setState({transactionHash:e})})).on("error",function(){var e=Object(_.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a.setState({contractError:"Contract Error: Model already registered"}),n&&console.log(n.transactionHash);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 18:console.log(JSON.stringify(a.state));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleCheckChange=function(e){e.target.checked;var t=e.target.value;"Data Scientist"==t&&(a.state.data_scientist=!0),"Aggregator"==t&&(a.state.aggregator=!0),"Data Owner"==t&&(a.state.data_owner=!0),a.state.type.push(JSON.stringify(t))},a.state={name:"",email:"",address:"",type:[],data_scientist:!1,aggregator:!1,data_owner:!1,account:"",ethAddress:"",index:""},a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(a)),a}return Object(h.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(v.a)({},t,e.target.value))}},{key:"handleSubmit2",value:function(e){}},{key:"render",value:function(){return Object(m.jsxs)("form",{onSubmit:this.handleSubmit2,children:[Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"sub-container",children:[Object(m.jsx)("h2",{children:"Register here"}),Object(m.jsx)("p",{children:"Please fill in this form."}),Object(m.jsx)("hr",{}),Object(m.jsxs)("label",{children:[Object(m.jsx)("b",{children:"Username"}),":",Object(m.jsx)("input",{name:"name",type:"text",value:this.state.name,onChange:this.handleChange})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("b",{children:"Email Address"}),":",Object(m.jsx)("input",{name:"email",type:"text",value:this.state.email,onChange:this.handleChange})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("b",{children:"IP Address"}),":",Object(m.jsx)("input",{name:"address",type:"text",value:this.state.address,onChange:this.handleChange})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("b",{children:" User Type"}),":"]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"checkbox",id:"checkbox",value:"Data Scientist",onChange:this.handleCheckChange.bind(this)}),Object(m.jsx)("span",{children:"Data Scientist"}),Object(m.jsx)("input",{type:"checkbox",id:"checkbox",value:"Aggregator",onChange:this.handleCheckChange.bind(this)}),Object(m.jsx)("span",{children:"Aggregator"}),Object(m.jsx)("input",{type:"checkbox",id:"checkbox",value:"Data Owner",onChange:this.handleCheckChange.bind(this)}),Object(m.jsx)("span",{children:"Data Owner"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:this.handleSubmit.bind(this),children:"Register"})]})}),this.state.displayTable&&Object(m.jsx)("div",{className:"center",children:Object(m.jsxs)("table",{bordered:!0,responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Tx Receipt Category"}),Object(m.jsx)("th",{children:" "}),Object(m.jsx)("th",{children:"Values"})]})}),Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Ethereum Contract Address"}),Object(m.jsx)("td",{children:" : "}),Object(m.jsx)("td",{children:this.state.ethAddress})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Tx # "}),Object(m.jsx)("td",{children:" : "}),Object(m.jsx)("td",{children:this.state.transactionHash})]})]})]})})]})}}]),n}(s.a.Component),M=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"form-container",children:Object(m.jsx)(D,{})})}}]),n}(s.a.Component),A=(n(528),n(1285),n(535)),H=n.n(A),I=n(125),U=n(99),E=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleOnKeyUp=function(){var e=Object(_.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,n.name,e.next=4,a.setState({searchValue:t.target.value});case 4:a.renderDatasets(a.state.datasetList);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.browserIntroduction=function(){return Object(m.jsx)("div",{className:"datasetInfo",children:Object(m.jsx)("h3",{children:"Click on a dataset to display additional info! "})})},a.getNumberOfDatasets=Object(_.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.methods.getNumberOfs().call();case 2:return t=e.sent,a.setState({numberOfDatasets:t}),e.abrupt("return",new Promise((function(e,n){-1!=t?e(t):n(Error("Can't connect to datasetdatabase smart contract."))})));case 5:case"end":return e.stop()}}),e)}))),a.getDatasetList=function(){var e=Object(_.a)(w.a.mark((function e(t){var n,s,i,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:[],n=[],s=0;case 3:if(!(s<t)){e.next=15;break}return e.next=6,U.a.methods.hashes(s).call();case 6:return i=e.sent,e.next=9,U.a.methods.datasets(i).call();case 9:(r=e.sent).ipfsHash=i,n.push(r);case 12:s++,e.next=3;break;case 15:return n.reverse(),a.setState({datasetList:n}),e.abrupt("return",new Promise((function(e,t){e(n)})));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderDatasets=function(){var e=Object(_.a)(w.a.mark((function e(t){var n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e){return e.description.toLowerCase().startsWith(a.state.searchValue)})),e.next=3,n.map((function(e){return Object(m.jsxs)("div",{className:"datasetContainer",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Owner"}),": ",e.owner]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Name"}),": not implemented"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Description"}),": ",e.description]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Creation Date"}),": ",new Date(1e3*e.time).toLocaleDateString()]}),Object(m.jsx)("p",{children:Object(m.jsx)("button",{className:"moreInfoButton",name:e.ipfsHash,onClick:a.handleClick,children:"More Information"})})]})}));case 3:s=e.sent,a.setState({renderedDatasetList:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleClick=function(){var e=Object(_.a)(w.a.mark((function e(t){var n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.name,e.next=3,I.a.files.get(n,(function(e,t){return a.setState({content:t[0].content})}));case 3:s=Object(m.jsxs)("div",{className:"datasetInfo",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Info1"}),": something"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Info2"}),": something"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Info3"}),": something"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Info3"}),": something"]}),Object(m.jsx)(H.a,{label:"Download synthetic samples",filename:"synthetic_samples",exportFile:function(){return a.state.content}})]}),a.setState({datasetInfo:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={searchValue:"",ethAddress:"",numberOfDatasets:"...",datasetList:[],renderedDatasetList:Object(m.jsx)("div",{className:"loadingCell",children:Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:" Loading ... "})})}),datasetInfo:a.browserIntroduction(),samples:null},a.handleOnKeyUp=a.handleOnKeyUp.bind(Object(k.a)(a)),a.getNumberOfDatasets().then(a.getDatasetList,(function(e){alert(e)})).then(a.renderDatasets,(function(e){alert(e)})),a}return Object(h.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"pageContainer",children:[Object(m.jsxs)("div",{className:"headerContainer",children:[Object(m.jsx)("div",{className:"searchBarContainer",children:Object(m.jsx)("input",{type:"text",id:"myInput",onKeyUp:this.handleOnKeyUp,placeholder:"Search dataset (by description)"})}),Object(m.jsxs)("p",{id:"numberOfDatasets",children:[this.state.numberOfDatasets," datasets already uploaded to the system"]}),Object(m.jsx)("hr",{})]}),Object(m.jsx)("div",{className:"resultContainer",children:Object(m.jsx)("tr",{children:this.state.renderedDatasetList})}),Object(m.jsx)("div",{className:"dataSampleContainer",children:this.state.datasetInfo})]})}}]),n}(s.a.Component),B=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"form-container",children:Object(m.jsx)(E,{})})}}]),n}(s.a.Component),L=(n(1286),n(100)),R=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).browserIntroduction=function(){return Object(m.jsx)("div",{className:"modelInfo",children:Object(m.jsx)("h3",{children:"Click on a model to display additional info! "})})},a.getNumberOfModels=Object(_.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.methods.getNumberOfModels().call();case 2:return t=e.sent,a.setState({numberOfModels:t}),e.abrupt("return",new Promise((function(e,n){-1!=t?e(t):n(Error("Can't connect to ModelDatabase smart contract."))})));case 5:case"end":return e.stop()}}),e)}))),a.getModelList=function(){var e=Object(_.a)(w.a.mark((function e(t){var n,s,i,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:[],n=[],s=0;case 3:if(!(s<t)){e.next=15;break}return e.next=6,L.a.methods.hashes(s).call();case 6:return i=e.sent,e.next=9,L.a.methods.models(i).call();case 9:(r=e.sent).ipfsHash=i,n.push(r);case 12:s++,e.next=3;break;case 15:return n.reverse(),a.setState({modelList:n}),e.abrupt("return",new Promise((function(e,t){e(n)})));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderModels=function(){var e=Object(_.a)(w.a.mark((function e(t){var n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e){return e.description.toLowerCase().startsWith(a.state.searchValue)})),e.next=3,n.map((function(e){return Object(m.jsxs)("div",{className:"modelContainer",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Owner"}),": ",e.owner]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Name"}),": not implemented"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Description"}),": ",e.description]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Creation Date"}),": ",new Date(1e3*e.time).toLocaleDateString()]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("button",{className:"moreInfoButton",name:e.ipfsHash,onClick:a.handleClick,children:"More Information"}),Object(m.jsx)(p.a,{to:"create_job",id:"jobButton",children:"Create Job"})]})]})}));case 3:s=e.sent,a.setState({renderedModelList:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleClick=function(){var e=Object(_.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(m.jsxs)("div",{className:"modelInfo",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Info1"}),": something"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Info2"}),": something"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Info3"}),": something"]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("b",{children:"Info3"}),": something"]})]}),a.setState({modelInfo:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleOnKeyUp=function(){var e=Object(_.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,n.name,e.next=4,a.setState({searchValue:t.target.value});case 4:a.renderModels(a.state.modelList);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={searchValue:"",ethAddress:"",numberOfModels:-1,modelList:[],renderedModelList:Object(m.jsx)("div",{className:"loadingCell",children:Object(m.jsx)("p",{children:Object(m.jsx)("b",{children:" Loading ... "})})}),modelInfo:a.browserIntroduction()},a.handleOnKeyUp=a.handleOnKeyUp.bind(Object(k.a)(a)),a.getNumberOfModels().then(a.getModelList,(function(e){alert(e)})).then(a.renderModels,(function(e){alert(e)})),a}return Object(h.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"pageContainer",children:[Object(m.jsxs)("div",{className:"headerContainer",children:[Object(m.jsx)("div",{className:"searchBarContainer",children:Object(m.jsx)("input",{type:"text",id:"myInput",onKeyUp:this.handleOnKeyUp,placeholder:"Search model (by description)"})}),Object(m.jsxs)("p",{id:"numberOfModels",children:[this.state.numberOfModels," models already uploaded to the system"]}),Object(m.jsx)("hr",{})]}),Object(m.jsx)("div",{className:"resultContainer",children:Object(m.jsx)("tr",{children:this.state.renderedModelList})}),Object(m.jsx)("div",{className:"modelInfoContainer",children:this.state.modelInfo})]})}}]),n}(s.a.Component),P=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"form-container",children:Object(m.jsx)(R,{})})}}]),n}(s.a.Component),K=(n(1287),n(1296)),F=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={showDiv1:!1,showDiv2:!1,showX:!1,showN:!1,showU:!1,showK:!1,name:"",address:"",strategy:"",epoch:"",batch_size:"",round:"",fraction_eval:"",fraction_fit:"",min_fit_clients:"",min_eval_clients:"",min_clients:"",failure:"",beta:"",slr:"",clr:"",da:"",distr:"",mean:"",std:"",ub:"",lb:"",gain:"",fan:"",linear:"relu",slope:""},a.open1=a.open1.bind(Object(k.a)(a)),a.open2=a.open2.bind(Object(k.a)(a)),a.openn=a.openn.bind(Object(k.a)(a)),a.openu=a.openu.bind(Object(k.a)(a)),a.openx=a.openx.bind(Object(k.a)(a)),a.openk=a.openk.bind(Object(k.a)(a)),a.handleChange=a.handleChange.bind(Object(k.a)(a)),a.handleDefault1=a.handleDefault1.bind(Object(k.a)(a)),a.handleDefault2=a.handleDefault2.bind(Object(k.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(a)),a}return Object(h.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(v.a)({},t,e.target.value))}},{key:"handleDefault1",value:function(){this.setState({epoch:10,batch_size:32,round:10,fraction_eval:.2,fraction_fit:.3,min_fit_clients:2,min_eval_clients:2,min_clients:2,failure:!0})}},{key:"handleDefault2",value:function(){this.setState({epoch:10,batch_size:32,round:10,fraction_eval:.2,fraction_fit:.3,min_fit_clients:2,min_eval_clients:2,min_clients:2,failure:!0,beta:.99,slr:.1,clr:.1,da:1e-9,distr:"normal",showN:!0,showX:!1,showU:!1,showK:!1,mean:0,std:.01})}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"open1",value:function(){var e=this.state.showDiv1;this.setState({showDiv1:!e,showDiv2:!1})}},{key:"open2",value:function(){var e=this.state.showDiv2;this.setState({showDiv2:!e,showDiv1:!1})}},{key:"openn",value:function(){this.setState({showN:!0,showU:!1,showX:!1,showK:!1})}},{key:"openu",value:function(){this.setState({showU:!0,showN:!1,showX:!1,showK:!1})}},{key:"openx",value:function(){this.setState({showX:!0,showU:!1,showN:!1,showK:!1})}},{key:"openk",value:function(){this.setState({showK:!0,showU:!1,showX:!1,showN:!1})}},{key:"render",value:function(){return Object(m.jsx)("form",{onSubmit:this.handleSubmit,children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"subContainer",children:[Object(m.jsx)("h2",{children:"Create a job to train your model!"}),Object(m.jsx)("p",{children:"Please fill in this form."}),Object(m.jsx)("hr",{}),Object(m.jsxs)("label",{children:[Object(m.jsx)("b",{children:"Aggregator Username"}),":",Object(m.jsx)("input",{name:"name",type:"text",value:this.state.name,onChange:this.handleChange})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("b",{children:"IP Addres"}),":",Object(m.jsx)("input",{name:"address",type:"text",value:this.state.address,onChange:this.handleChange})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("b",{children:"Aggregate Strategy (Choose one of below)"}),":",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),"FedAvg:",Object(m.jsxs)("select",{name:"strategy",value:this.state.strategy,onChange:this.handleChange,children:[Object(m.jsx)("option",{value:"",children:"--Mode Selection--"}),Object(m.jsx)("option",{value:"datasize",children:"datasize"}),Object(m.jsx)("option",{value:"accuracy",children:"accuracy"})]}),Object(m.jsx)(K.a,{onClick:this.open1,disabled:""==this.state.strategy||"adagrad"==this.state.strategy||"yogi"==this.state.strategy||"adam"==this.state.strategy,children:"Hyperparameter Setting"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),"FedOpt:",Object(m.jsxs)("select",{name:"strategy",value:this.state.strategy,onChange:this.handleChange,children:[Object(m.jsx)("option",{value:"",children:"--Mode Selection--"}),Object(m.jsx)("option",{value:"adagrad",children:"adagrad"}),Object(m.jsx)("option",{value:"yogi",children:"yogi"}),Object(m.jsx)("option",{value:"adam",children:"adam"})]}),Object(m.jsx)(K.a,{onClick:this.open2,disabled:""==this.state.strategy||"datasize"==this.state.strategy||"accuracy"==this.state.strategy,children:"Hyperparameter Setting"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),"User-define:"]}),this.state.showDiv1&&Object(m.jsxs)("div",{className:"dev1",children:[Object(m.jsx)("button",{type:"button",className:"close","data-dismiss":"alert",onClick:this.open1,children:"reselect strategy"}),Object(m.jsx)("button",{type:"button",className:"default",onClick:this.handleDefault1,children:"use default values"}),Object(m.jsx)("br",{}),"epoch:",Object(m.jsx)("input",{name:"epoch",type:"number",value:this.state.epoch,onChange:this.handleChange}),Object(m.jsx)("br",{}),"batch_size:",Object(m.jsx)("input",{name:"batch_size",type:"number",value:this.state.batch_size,onChange:this.handleChange}),Object(m.jsx)("br",{}),"training round:",Object(m.jsx)("input",{name:"round",type:"number",value:this.state.round,onChange:this.handleChange}),Object(m.jsx)("br",{}),"fraction_eval:",Object(m.jsx)("input",{name:"fraction_eval",type:"number",value:this.state.fraction_eval,onChange:this.handleChange}),Object(m.jsx)("br",{}),"fraction_fit:",Object(m.jsx)("input",{name:"fraction_fit",type:"number",value:this.state.fraction_fit,onChange:this.handleChange}),Object(m.jsx)("br",{}),"min_fit_clients:",Object(m.jsx)("input",{name:"min_fit_clients",type:"number",value:this.state.min_fit_clients,onChange:this.handleChange}),Object(m.jsx)("br",{}),"min_eval_clients:",Object(m.jsx)("input",{name:"min_eval_clients",type:"number",value:this.state.min_eval_clients,onChange:this.handleChange}),Object(m.jsx)("br",{}),"min_available_clients:",Object(m.jsx)("input",{name:"min_clients",type:"number",value:this.state.min_clients,onChange:this.handleChange}),Object(m.jsx)("br",{}),"accept_failures:",Object(m.jsxs)("select",{name:"failure",value:this.state.failure,onChange:this.handleChange,children:[Object(m.jsx)("option",{value:"",children:"--Selection--"}),Object(m.jsx)("option",{value:"true",children:"true"}),Object(m.jsx)("option",{value:"false",children:"false"})]}),Object(m.jsx)("br",{})]}),this.state.showDiv2&&Object(m.jsxs)("div",{className:"dev2",children:[Object(m.jsx)("button",{type:"button",className:"close","data-dismiss":"alert",onClick:this.open2,children:"reselect strategy"}),Object(m.jsx)("button",{type:"button",className:"default",onClick:this.handleDefault2,children:"use default values"}),Object(m.jsx)("br",{}),"epoch:",Object(m.jsx)("input",{name:"epoch",type:"number",value:this.state.epoch,onChange:this.handleChange}),Object(m.jsx)("br",{}),"batch_size:",Object(m.jsx)("input",{name:"batch_size",type:"number",value:this.state.batch_size,onChange:this.handleChange}),Object(m.jsx)("br",{}),"training round:",Object(m.jsx)("input",{name:"round",type:"number",value:this.state.round,onChange:this.handleChange}),Object(m.jsx)("br",{}),"fraction_eval:",Object(m.jsx)("input",{name:"fraction_eval",type:"number",value:this.state.fraction_eval,onChange:this.handleChange}),Object(m.jsx)("br",{}),"fraction_fit:",Object(m.jsx)("input",{name:"fraction_fit",type:"number",value:this.state.fraction_fit,onChange:this.handleChange}),Object(m.jsx)("br",{}),"min_fit_clients:",Object(m.jsx)("input",{name:"min_fit_clients",type:"number",value:this.state.min_fit_clients,onChange:this.handleChange}),Object(m.jsx)("br",{}),"min_eval_clients:",Object(m.jsx)("input",{name:"min_eval_clients",type:"number",value:this.state.min_eval_clients,onChange:this.handleChange}),Object(m.jsx)("br",{}),"min_available_clients:",Object(m.jsx)("input",{name:"min_clients",type:"number",value:this.state.min_clients,onChange:this.handleChange}),Object(m.jsx)("br",{}),"accept_failures:",Object(m.jsxs)("select",{name:"failure",value:this.state.failure,onChange:this.handleChange,children:[Object(m.jsx)("option",{value:"",children:"--Selection--"}),Object(m.jsx)("option",{value:"true",children:"true"}),Object(m.jsx)("option",{value:"false",children:"false"})]}),Object(m.jsx)("br",{}),"beta:",Object(m.jsx)("input",{name:"beta",type:"number",value:this.state.beta,onChange:this.handleChange}),Object(m.jsx)("br",{}),"server-side learning rate:",Object(m.jsx)("input",{name:"slr",type:"number",value:this.state.slr,onChange:this.handleChange}),Object(m.jsx)("br",{}),"client-side learning rate:",Object(m.jsx)("input",{name:"clr",type:"number",value:this.state.clr,onChange:this.handleChange}),Object(m.jsx)("br",{}),"degree of adaptability:",Object(m.jsx)("input",{name:"da",type:"number",value:this.state.da,onChange:this.handleChange}),Object(m.jsx)("br",{}),"Model initial weights:",Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"radio",onClick:this.openn,name:"distr",value:"normal",checked:"normal"===this.state.distr,onChange:this.handleChange}),"Normal"]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"radio",onClick:this.openu,name:"distr",value:"uniform",checked:"uniform"===this.state.distr,onChange:this.handleChange}),"Uniform"]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"radio",onClick:this.openx,name:"distr",value:"xnormal",checked:"xnormal"===this.state.distr,onChange:this.handleChange}),"Xavier Normal"]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"radio",onClick:this.openx,name:"distr",value:"xuniform",checked:"xuniform"===this.state.distr,onChange:this.handleChange}),"Xavier Uniform"]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"radio",onClick:this.openk,name:"distr",value:"knormal",checked:"knormal"===this.state.distr,onChange:this.handleChange}),"Kaiming Normal"]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"radio",onClick:this.openk,name:"distr",value:"kuniform",checked:"kuniform"===this.state.distr,onChange:this.handleChange}),"Kaiming Uniform"]}),this.state.showN&&Object(m.jsxs)("div",{className:"showN",children:["mean:",Object(m.jsx)("input",{name:"mean",type:"number",value:this.state.mean,onChange:this.handleChange}),Object(m.jsx)("br",{}),"std:",Object(m.jsx)("input",{name:"std",type:"number",value:this.state.std,onChange:this.handleChange})]}),this.state.showU&&Object(m.jsxs)("div",{className:"showU",children:["upper bound:",Object(m.jsx)("input",{name:"ub",type:"number",value:this.state.ub,onChange:this.handleChange}),Object(m.jsx)("br",{}),"lower bound:",Object(m.jsx)("input",{name:"lb",type:"number",value:this.state.lb,onChange:this.handleChange})]}),this.state.showX&&Object(m.jsxs)("div",{className:"showX",children:["gain:",Object(m.jsx)("input",{name:"gain",type:"number",value:this.state.gain,onChange:this.handleChange}),Object(m.jsx)("br",{})]}),this.state.showK&&Object(m.jsxs)("div",{className:"showK",children:["fan mode:",Object(m.jsxs)("select",{name:"fan",value:this.state.fan,onChange:this.handleChange,children:[Object(m.jsx)("option",{value:"",children:"--Selection--"}),Object(m.jsx)("option",{value:"fan_in",children:"fan in"}),Object(m.jsx)("option",{value:"fan_out",children:"fan out"})]}),Object(m.jsx)("br",{}),"nonlinearity:",Object(m.jsxs)("select",{name:"linear",value:this.state.linear,onChange:this.handleChange,children:[Object(m.jsx)("option",{value:"",children:"--Selection--"}),Object(m.jsx)("option",{value:"relu",children:"relu"}),Object(m.jsx)("option",{value:"leakyrelu",children:"leaky relu"})]}),Object(m.jsxs)("div",{className:this.state.linear,children:["slope:",Object(m.jsx)("input",{name:"slope",type:"number",value:this.state.slope,onChange:this.handleChange}),Object(m.jsx)("br",{})]})]})]}),Object(m.jsx)("input",{type:"submit",value:"Register",className:"register"})]})})})}}]),n}(s.a.Component);var z=function(){return Object(m.jsxs)("body",{children:[Object(m.jsx)("div",{className:"header",children:Object(m.jsx)("div",{className:"title",children:Object(m.jsx)("h1",{children:"Software Engineering Group Project"})})}),Object(m.jsx)(f,{}),Object(m.jsx)("div",{className:"page-container",children:Object(m.jsxs)(o.a,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(d.a,{to:"/about"})}),Object(m.jsx)(l.a,{path:"/sign_up",component:M}),Object(m.jsx)(l.a,{path:"/register_model",component:g}),Object(m.jsx)(l.a,{path:"/register_dataset",component:x}),Object(m.jsx)(l.a,{path:"/browse_models",component:P}),Object(m.jsx)(l.a,{path:"/browse_datasets",component:B}),Object(m.jsx)(l.a,{path:"/create_job",component:F})]})})]})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1301)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};c.a.render(Object(m.jsx)(i.a,{children:Object(m.jsx)(z,{})}),document.getElementById("root")),X()},239:function(e,t){},436:function(e,t){},44:function(e,t,n){"use strict";var a,s=n(128),i=n.n(s);if(window.web3)a=new i.a(window.web3.currentProvider);else{var r=new i.a.providers.HttpProvider("https://ropsten.infura.io/v3/ec89decf66584cd984e5f89b6467f34f");a=new i.a(r)}t.a=a},473:function(e,t){},528:function(e,t,n){},531:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var a=n(80),s=n(14),i=n.n(s),r=n(31),c=n(5),o=n(7),l=n(27),d=n(12),u=n(11),h=n(8),b=n.n(h),j=(n(551),n(553),n(125)),p=n(44),m=n(99),f=n(0),O=function(t){Object(d.a)(s,t);var n=Object(u.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=n.call(this,t)).handleSubmit=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.eth.getAccounts();case 3:return n=e.sent,e.next=6,m.a.options.address;case 6:return s=e.sent,a.setState({ethAddress:s}),e.next=10,j.a.add(a.state.buffer,(function(e,t){console.log(e,t),a.setState({ipfsHash:t[0].hash}),m.a.methods.registerDataset(a.state.ipfsHash,a.state.name,"Objective").send({from:n[0]},(function(e,t){console.log(t),a.setState({transactionHash:t})}))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.captureFile=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0],n=new window.FileReader;n.readAsArrayBuffer(t),n.onloadend=function(){return a.convertToBuffer(n)}},a.convertToBuffer=function(){var t=Object(r.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.from(n.result);case 2:s=t.sent,a.setState({buffer:s});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.state={name:"",address:"",ipfsHash:null,buffer:"",ethAddress:"",transactionHash:"",txReceipt:""},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a.captureFile=a.captureFile.bind(Object(l.a)(a)),a.convertToBuffer=a.convertToBuffer.bind(Object(l.a)(a)),a}return Object(o.a)(s,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(a.a)({},t,e.target.value))}},{key:"render",value:function(){return Object(f.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"sub-container",children:[Object(f.jsx)("h2",{children:"Register anonymised samples of your Dataset"}),Object(f.jsx)("p",{children:"Please fill in this form to register your dataset."}),Object(f.jsx)("hr",{}),Object(f.jsxs)("label",{children:[Object(f.jsx)("b",{children:"Dataset Name"}),":",Object(f.jsx)("input",{name:"name",type:"text",value:this.state.name,onChange:this.handleChange})]}),Object(f.jsxs)("label",{children:[Object(f.jsx)("b",{children:"Description"}),":",Object(f.jsx)("input",{name:"address",type:"text",value:this.state.address,onChange:this.handleChange})]}),Object(f.jsxs)("label",{children:[Object(f.jsx)("b",{children:"Dataset"}),":",Object(f.jsx)("input",{name:"dataset",type:"file",onChange:this.captureFile})]}),Object(f.jsx)("input",{type:"submit",value:"Register",className:"register"})]})}),Object(f.jsxs)("table",{bordered:!0,responsive:!0,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Tx Receipt Category"}),Object(f.jsx)("th",{children:" "}),Object(f.jsx)("th",{children:"Values"})]})}),Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"IPFS Hash stored on Ethereum"}),Object(f.jsx)("td",{children:" : "}),Object(f.jsx)("td",{children:this.state.ipfsHash})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Ethereum Contract Address"}),Object(f.jsx)("td",{children:" : "}),Object(f.jsx)("td",{children:this.state.ethAddress})]}),"                  ",Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Tx # "}),Object(f.jsx)("td",{children:" : "}),Object(f.jsx)("td",{children:this.state.transactionHash})]})]})]})]})}}]),s}(b.a.Component)}).call(this,n(1).Buffer)},534:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n(80),s=n(14),i=n.n(s),r=n(31),c=n(5),o=n(7),l=n(27),d=n(12),u=n(11),h=n(8),b=n.n(h),j=(n(1280),n(125)),p=n(100),m=n(127),f=n(44),O=n(0);n(1281);function x(e,t,n){var a=[];return 0===e.length&&a.push("Name can't be empty"),0===t.length&&a.push("Description can't be empty"),0===n.length&&a.push("Have to upload model"),a}var y=function(t){Object(d.a)(s,t);var n=Object(u.a)(s);function s(t){var a;return Object(c.a)(this,s),(a=n.call(this,t)).handleSubmit=function(){var e=Object(r.a)(i.a.mark((function e(t){var n,s,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!((n=x(a.state.name,a.state.description,a.state.buffer)).length>0)){e.next=5;break}return a.setState({formErrors:n}),e.abrupt("return");case 5:return e.next=7,f.a.eth.getAccounts();case 7:return s=e.sent,e.next=10,m.a.methods.isUser(s[0]).call();case 10:if(c=e.sent,console.log(c),c){e.next=15;break}return alert("Need to be registered, please register as a data-scientist first"),e.abrupt("return");case 15:return e.next=17,m.a.methods.getUser(s[0]).call({from:s[0]},(function(e,t){e&&console.log(e.message),t&&console.log(t)}));case 17:return e.next=19,p.a.options.address;case 19:return o=e.sent,a.setState({ethAddress:o}),e.next=23,j.a.add(a.state.buffer,(function(e,t){console.log(e,t),a.setState({ipfsHash:t[0].hash}),p.a.methods.registerModel(a.state.ipfsHash,a.state.name,"Objective").send({from:s[0]}).on("transactionHash",(function(e){console.log(e),a.setState({transactionHash:e})})).on("error",function(){var e=Object(r.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a.setState({contractError:"Contract Error: Model already registered"}),n&&console.log(n.transactionHash);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.captureFile=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0],n=new window.FileReader;n.readAsArrayBuffer(t),n.onloadend=function(){return a.convertToBuffer(n)}},a.convertToBuffer=function(){var t=Object(r.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.from(n.result);case 2:s=t.sent,a.setState({buffer:s});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onClick=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({blockNumber:"waiting.."}),a.setState({gasUsed:"waiting..."}),e.next=5,f.a.eth.getTransactionReceipt(a.state.transactionHash,(function(e,t){console.log(e,t),a.setState({txReceipt:t})}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:a.setState({displayTable:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.state={name:"",description:"",ipfsHash:null,buffer:"",ethAddress:"",transactionHash:"",txReceipt:"",displayTable:!1,formErrors:[],contractError:""},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a.captureFile=a.captureFile.bind(Object(l.a)(a)),a.convertToBuffer=a.convertToBuffer.bind(Object(l.a)(a)),a}return Object(o.a)(s,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(a.a)({},t,e.target.value))}},{key:"render",value:function(){var e=this.state.formErrors,t=this.state.contractError;return Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("div",{className:"sub-container",children:[Object(O.jsx)("h2",{children:"Register your Model"}),Object(O.jsx)("p",{children:"Please fill in this form to register your model."}),Object(O.jsx)("hr",{}),Object(O.jsxs)("label",{children:[Object(O.jsx)("b",{children:"Model Name"}),":",Object(O.jsx)("input",{name:"name",type:"text",value:this.state.name,onChange:this.handleChange})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("b",{children:"Description"}),":",Object(O.jsx)("input",{name:"description",type:"text",value:this.state.description,onChange:this.handleChange})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("b",{children:"Model"}),":",Object(O.jsx)("input",{name:"model",type:"file",accept:".py",onChange:this.captureFile})]}),Object(O.jsx)("input",{type:"submit",value:"Register",className:"register"})]}),e.map((function(e){return Object(O.jsxs)("p",{children:["Error: ",e]},e)})),Object(O.jsxs)("p",{children:[" ",t," "]})]}),!this.state.displayTable&&Object(O.jsx)("div",{className:"center",children:Object(O.jsx)("button",{onClick:this.onClick,children:"Get Receipt"})}),this.state.displayTable&&Object(O.jsx)("div",{className:"center",children:Object(O.jsxs)("table",{bordered:!0,responsive:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Tx Receipt Category"}),Object(O.jsx)("th",{children:" "}),Object(O.jsx)("th",{children:"Values"})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"IPFS Hash stored on Ethereum"}),Object(O.jsx)("td",{children:" : "}),Object(O.jsx)("td",{children:this.state.ipfsHash})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Ethereum Contract Address"}),Object(O.jsx)("td",{children:" : "}),Object(O.jsx)("td",{children:this.state.ethAddress})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Tx # "}),Object(O.jsx)("td",{children:" : "}),Object(O.jsx)("td",{children:this.state.transactionHash})]})]})]})})]})}}]),s}(b.a.Component)}).call(this,n(1).Buffer)},542:function(e,t,n){},543:function(e,t,n){},544:function(e,t,n){},548:function(e,t,n){},551:function(e,t,n){"use strict";var a=n(5),s=n(7),i=n(12),r=n(11),c=n(8),o=n.n(c),l=(n(552),n(0));o.a.Component},552:function(e,t,n){},553:function(e,t,n){},569:function(e,t){},571:function(e,t){},577:function(e,t){},579:function(e,t){},610:function(e,t){},611:function(e,t){},614:function(e,t){},616:function(e,t){},653:function(e,t){},655:function(e,t){},659:function(e,t){},666:function(e,t){},668:function(e,t){},676:function(e,t){},678:function(e,t){},715:function(e,t){},717:function(e,t){},870:function(e,t){},886:function(e,t){},948:function(e,t){},99:function(e,t,n){"use strict";var a=n(44),s=n(126);t.a=new a.a.eth.Contract(s.a,"0x4BE488EBc71Ac2D7a6b38aAa85ab0D9ff8130DBD")}},[[1289,1,2]]]);
//# sourceMappingURL=main.16cba049.chunk.js.map